package org.whole.lang.xsd.codebase;

import org.whole.lang.builders.IBuilderOperation;
import org.whole.lang.templates.AbstractTemplateFactory;

public class AnnotatedXmlSchemaToModelsAndMappingQuery extends AbstractTemplateFactory<org.whole.lang.queries.model.Block> {

    public void apply(IBuilderOperation op) {
        org.whole.lang.queries.builders.IQueriesBuilder b0 = (org.whole.lang.queries.builders.IQueriesBuilder) op.wGetBuilder(org.whole.lang.queries.reflect.QueriesLanguageKit.URI);
        b0.Block_(67);
        b0.Filter_();
        b0.StringLiteral("http://www.w3.org/2001/XMLSchema");
        b0.VariableTest("XML_SCHEMA_NS_URI");
        b0._Filter();
        b0.Filter_();
        b0.Choose_(2);
        b0.Filter_();
        b0.FeatureStep("targetNamespace");
        b0.KindTest("IMPL");
        b0._Filter();
        b0.StringLiteral("");
        b0._Choose();
        b0.VariableTest("TARGET_NS_URI");
        b0._Filter();
        b0.Filter_();
        b0.Union_();
        b0.Expressions_(0);
        b0._Expressions();
        org.whole.lang.commons.builders.ICommonsBuilder b1 = (org.whole.lang.commons.builders.ICommonsBuilder) op.wGetBuilder(org.whole.lang.commons.reflect.CommonsLanguageKit.URI);
        b1.Resolver();
        b0._Union();
        b0.VariableTest("mappedBuiltInTypes");
        b0._Filter();
        b0.Filter_();
        b0.Union_();
        b0.Expressions_(0);
        b0._Expressions();
        b1.Resolver();
        b0._Union();
        b0.VariableTest("mappedCustomDataTypes");
        b0._Filter();
        b0.QueryDeclaration_();
        b0.Name("getUriPart");
        b1.Resolver();
        org.whole.lang.workflows.builders.IWorkflowsBuilder b2 = (org.whole.lang.workflows.builders.IWorkflowsBuilder) op.wGetBuilder(org.whole.lang.workflows.reflect.WorkflowsLanguageKit.URI);
        b2.InvokeJavaInstanceMethod_();
        b2.Text("get uri part");
        b1.Resolver();
        b2.Variable("self");
        b1.Resolver();
        b2.StringLiteral("java.lang.String");
        b2.StringLiteral("replaceFirst(java.lang.String, java.lang.String)");
        b2.Expressions_(2);
        b2.StringLiteral(":[^:]+$");
        b2.StringLiteral("");
        b2._Expressions();
        b2._InvokeJavaInstanceMethod();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getBasePart");
        b1.Resolver();
        b2.InvokeJavaInstanceMethod_();
        b2.Text("get base part");
        b1.Resolver();
        b2.Variable("self");
        b1.Resolver();
        b2.StringLiteral("java.lang.String");
        b2.StringLiteral("replaceFirst(java.lang.String, java.lang.String)");
        b2.Expressions_(2);
        b2.StringLiteral(".+:");
        b2.StringLiteral("");
        b2._Expressions();
        b2._InvokeJavaInstanceMethod();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("matchesUriInQName");
        b0.Names_(1);
        b0.Name("uri");
        b0._Names();
        b0.Equals_();
        b0.Call_();
        b0.Name("getUriPart");
        b1.Resolver();
        b0._Call();
        b0.VariableRefStep("uri");
        b0._Equals();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("isLocalQName");
        b1.Resolver();
        b0.Call_();
        b0.Name("matchesUriInQName");
        b0.Expressions_(1);
        b0.VariableRefStep("TARGET_NS_URI");
        b0._Expressions();
        b0._Call();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("isSchemaQName");
        b1.Resolver();
        b0.Call_();
        b0.Name("matchesUriInQName");
        b0.Expressions_(1);
        b0.VariableRefStep("XML_SCHEMA_NS_URI");
        b0._Expressions();
        b0._Call();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("isImportedQName");
        b1.Resolver();
        b0.Not_();
        b0.Or_(2);
        b0.Call_();
        b0.Name("isLocalQName");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("isSchemaQName");
        b1.Resolver();
        b0._Call();
        b0._Or();
        b0._Not();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("toType");
        b0.Names_(3);
        b0.Name("entity");
        b0.Name("type");
        b0.Name("ed");
        b0._Names();
        b1.SameStageFragment_();
        b2.Sequence_();
        b2.Text("sequence");
        b2.FlowObjects_(2);
        b2.InvokeJavaClassMethod_();
        b2.Text("convert type to entity descriptor");
        b2.Variable("ed");
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.commons.parsers.CommonsDataTypePersistenceParser");
        b2.StringLiteral("getEntityDescriptor(java.lang.String)");
        b2.Expressions_(1);
        b2.Variable("type");
        b2._Expressions();
        b2._InvokeJavaClassMethod();
        b2.InvokeJavaClassMethod_();
        b2.Text("convert entity");
        b1.Resolver();
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.util.EntityUtils");
        b2.StringLiteral("convertCloneIfParented(org.whole.lang.model.IEntity, org.whole.lang.reflect.EntityDescriptor)");
        b2.Expressions_(2);
        b2.Variable("entity");
        b2.Variable("ed");
        b2._Expressions();
        b2._InvokeJavaClassMethod();
        b2._FlowObjects();
        b2._Sequence();
        b1._SameStageFragment();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("addBuiltInModelDeclatration");
        b0.Names_(2);
        b0.Name("entityType");
        b0.Name("builtInType");
        b0._Names();
        b0.Block_(3);
        b0.QueryDeclaration_();
        b0.Name("createBuiltInModelDeclaration");
        b0.Names_(3);
        b0.Name("builtInComponentType");
        b0.Name("componentType");
        b0.Name("dataType");
        b0._Names();
        b0.Choose_(2);
        b0.Select_();
        b1.StageUpFragment_();
        org.whole.lang.models.builders.IModelsBuilder b3 = (org.whole.lang.models.builders.IModelsBuilder) op.wGetBuilder(org.whole.lang.models.reflect.ModelsLanguageKit.URI);
        b3.CompositeEntity_();
        b3.EntityModifiers_(0);
        b3._EntityModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b3.Types_(0);
        b3._Types();
        b3.ComponentModifiers_(1);
        b3.ComponentModifier("ordered");
        b3._ComponentModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#Type");
        b1.VarName("componentType");
        b1.Quantifier("!");
        b1._Variable();
        b3._CompositeEntity();
        b1._StageUpFragment();
        b0.Filter_();
        b0.SelfStep();
        b2.InvokeJavaClassMethod_();
        b2.Text("is list derived?");
        b1.Resolver();
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.xsd.parsers.SchemaDataTypes");
        b2.StringLiteral("isListDerived(java.lang.String)");
        b2.Expressions_(1);
        b2.Variable("builtInType");
        b2._Expressions();
        b2._InvokeJavaClassMethod();
        b0._Filter();
        b0.Sequence_(2);
        b0.Filter_();
        b1.SameStageFragment_();
        b2.Sequence_();
        b2.Text("calculate component type");
        b2.FlowObjects_(2);
        b2.InvokeJavaClassMethod_();
        b2.Text("get built in component type");
        b2.Variable("builtInComponentType");
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.xsd.parsers.SchemaDataTypes");
        b2.StringLiteral("getBuiltInComponentType(java.lang.String)");
        b2.Expressions_(1);
        b2.Variable("builtInType");
        b2._Expressions();
        b2._InvokeJavaClassMethod();
        b2.InvokeJavaClassMethod_();
        b2.Text("get component type");
        b1.Resolver();
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.xsd.parsers.SchemaDataTypes");
        b2.StringLiteral("getEntityNameFromBuiltIn(java.lang.String)");
        b2.Expressions_(1);
        b2.Variable("builtInComponentType");
        b2._Expressions();
        b2._InvokeJavaClassMethod();
        b2._FlowObjects();
        b2._Sequence();
        b1._SameStageFragment();
        b0.VariableTest("componentType");
        b0._Filter();
        b0.Call_();
        b0.Name("addBuiltInModelDeclatration");
        b0.Expressions_(1);
        b0.VariableRefStep("componentType");
        b0._Expressions();
        b0._Call();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0.Select_();
        b1.StageUpFragment_();
        b3.DataEntity_();
        b3.EntityModifiers_(0);
        b3._EntityModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b3.Types_(0);
        b3._Types();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#DataType");
        b1.VarName("dataType");
        b1.Quantifier("!");
        b1._Variable();
        b3._DataEntity();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Filter_();
        b2.InvokeJavaClassMethod_();
        b2.Text("get data type");
        b1.Resolver();
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.xsd.parsers.SchemaDataTypes");
        b2.StringLiteral("getDataType(java.lang.String)");
        b2.Expressions_(1);
        b2.Variable("builtInType");
        b2._Expressions();
        b2._InvokeJavaClassMethod();
        b0.VariableTest("dataType");
        b0._Filter();
        b0.TemplateNames();
        b0._Select();
        b0._Choose();
        b0._QueryDeclaration();
        b0.If_();
        b0.And_(2);
        b2.InvokeJavaClassMethod_();
        b2.Text("is schema built in?");
        b1.Resolver();
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.xsd.parsers.SchemaDataTypes");
        b2.StringLiteral("isBuiltInEntityName(java.lang.String)");
        b2.Expressions_(1);
        b2.Variable("entityType");
        b2._Expressions();
        b2._InvokeJavaClassMethod();
        b0.Not_();
        b0.Some_();
        b0.Path_(2);
        b0.VariableRefStep("mappedBuiltInTypes");
        b0.Filter_();
        b0.ChildStep();
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("name");
        b0.VariableTest("entityType");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0._Filter();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._Not();
        b0._And();
        b0.Block_(4);
        b0.Filter_();
        b2.InvokeJavaClassMethod_();
        b2.Text("get built in type");
        b1.Resolver();
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.xsd.parsers.SchemaDataTypes");
        b2.StringLiteral("getBuiltInFromEntityName(java.lang.String)");
        b2.Expressions_(1);
        b2.Variable("entityType");
        b2._Expressions();
        b2._InvokeJavaClassMethod();
        b0.VariableTest("builtInType");
        b0._Filter();
        b0.PointwiseInsert_();
        b0.Placement("INTO");
        b0.VariableRefStep("mappedBuiltInTypes");
        b0.Call_();
        b0.Name("createBuiltInModelDeclaration");
        b1.Resolver();
        b0._Call();
        b0._PointwiseInsert();
        b0.PointwiseInsert_();
        b0.Placement("INTO");
        b0.VariableRefStep("mappedCustomDataTypes");
        b0.Call_();
        b0.Name("getCustomDataType");
        b0.Expressions_(2);
        b0.VariableRefStep("entityType");
        b0.VariableRefStep("builtInType");
        b0._Expressions();
        b0._Call();
        b0._PointwiseInsert();
        b0.SelfStep();
        b0._Block();
        b0._If();
        b0.SelfStep();
        b0._Block();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getCustomDataType");
        b0.Names_(2);
        b0.Name("entityType");
        b0.Name("builtInType");
        b0._Names();
        b0.If_();
        b2.InvokeJavaClassMethod_();
        b2.Text("has custom data type?");
        b1.Resolver();
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.xsd.parsers.SchemaDataTypes");
        b2.StringLiteral("hasCustomDataType(java.lang.String)");
        b2.Expressions_(1);
        b2.Variable("builtInType");
        b2._Expressions();
        b2._InvokeJavaClassMethod();
        b1.StageUpFragment_();
        org.whole.lang.xsd.mapping.builders.IMappingBuilder b4 = (org.whole.lang.xsd.mapping.builders.IMappingBuilder) op.wGetBuilder(org.whole.lang.xsd.mapping.reflect.MappingLanguageKit.URI);
        b4.CustomDataType_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#BuiltInType");
        b1.VarName("builtInType");
        b1.Quantifier("!");
        b1._Variable();
        b4._CustomDataType();
        b1._StageUpFragment();
        b0._If();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getName");
        b1.Resolver();
        b0.Path_(2);
        b0.Choose_(3);
        b0.If_();
        b0.Or_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#QName");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Name");
        b0._Or();
        b0.SelfStep();
        b0._If();
        b0.If_();
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#Reference");
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#ref");
        b0._If();
        b0.Do_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#name");
        b0._Do();
        b0._Choose();
        b0.Choose_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#QName");
        b0.Not_();
        b0.Call_();
        b0.Name("isLocalQName");
        b1.Resolver();
        b0._Call();
        b0._Not();
        b0._And();
        b0._Filter();
        b0.Call_();
        b0.Name("getBasePart");
        b1.Resolver();
        b0._Call();
        b0._Choose();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getComponent");
        b0.Names_(3);
        b0.Name("uri");
        b0.Name("components");
        b0.Name("name");
        b0._Names();
        b0.Block_(3);
        b0.Path_(2);
        b1.SameStageFragment_();
        b2.Sequence_();
        b2.Text("retrive target schmea");
        b2.FlowObjects_(2);
        b2.InvokeJavaClassMethod_();
        b2.Text("get XsdRegistry instance");
        b2.Variable("schemaRegistry");
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.xsd.resources.XsdRegistry");
        b2.StringLiteral("instance()");
        b1.Resolver();
        b2._InvokeJavaClassMethod();
        b2.InvokeJavaInstanceMethod_();
        b2.Text("get xml schema");
        b1.Resolver();
        b2.Variable("schemaRegistry");
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.xsd.resources.XsdRegistry");
        b2.StringLiteral("getSchemaFor(java.lang.String)");
        b2.Expressions_(1);
        b1.SameStageFragment_();
        b0.Call_();
        b0.Name("getUriPart");
        b1.Resolver();
        b0._Call();
        b1._SameStageFragment();
        b2._Expressions();
        b2._InvokeJavaInstanceMethod();
        b2._FlowObjects();
        b2._Sequence();
        b1._SameStageFragment();
        b0.Filter_();
        b0.FeatureStep("components");
        b0.VariableTest("components");
        b0._Filter();
        b0._Path();
        b0.Filter_();
        b0.Call_();
        b0.Name("toType");
        b0.Expressions_(2);
        b0.Call_();
        b0.Name("getBasePart");
        b1.Resolver();
        b0._Call();
        b0.Addition_();
        b0.VariableRefStep("XML_SCHEMA_NS_URI");
        b0.StringLiteral("#Name");
        b0._Addition();
        b0._Expressions();
        b0._Call();
        b0.VariableTest("name");
        b0._Filter();
        b0.Choose_(5);
        b0.Path_(3);
        b0.Filter_();
        b0.ParentStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ElementRef");
        b0._Filter();
        b0.VariableRefStep("components");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#name");
        b0.VariableTest("name");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ElementDecl");
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(3);
        b0.Filter_();
        b0.ParentStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeUseRef");
        b0._Filter();
        b0.VariableRefStep("components");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#name");
        b0.VariableTest("name");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeDecl");
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(3);
        b0.Filter_();
        b0.ParentStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeGroupRef");
        b0._Filter();
        b0.VariableRefStep("components");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#name");
        b0.VariableTest("name");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeGroupDef");
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(3);
        b0.Filter_();
        b0.ParentStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupRef");
        b0._Filter();
        b0.VariableRefStep("components");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#name");
        b0.VariableTest("name");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupDef");
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.VariableRefStep("components");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#name");
        b0.VariableTest("name");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#TypeDef");
        b0._And();
        b0._Filter();
        b0._Path();
        b0._Choose();
        b0._Block();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getSuperSimpleExtension");
        b1.Resolver();
        b0.Choose_(2);
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleExtension");
        b0.SelfStep();
        b0._If();
        b0.Path_(5);
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#base");
        b0.KindTest("IMPL");
        b0._Filter();
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#content");
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#derivation");
        b0.Call_();
        b0.Name("getSuperSimpleExtension");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Choose();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getSimpleBaseType");
        b1.Resolver();
        b0.Choose_(2);
        b0.Path_(2);
        b0.FeatureStep("content");
        b0.Choose_(2);
        b0.Path_(3);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleContent");
        b0._Filter();
        b0.FeatureStep("derivation");
        b0.FeatureStep("base");
        b0._Path();
        b0.FeatureStep("base");
        b0._Choose();
        b0._Path();
        b0.Path_(3);
        b0.Filter_();
        b0.SelfStep();
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleRestriction");
        b0.Some_();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#facets");
        b0.ChildStep();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._And();
        b0._Filter();
        b0.Call_();
        b0.Name("getSuperSimpleExtension");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("base");
        b0._Path();
        b0._Choose();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getBaseType");
        b1.Resolver();
        b0.Block_(2);
        b0.QueryDeclaration_();
        b0.Name("getComplexBaseType");
        b1.Resolver();
        b0.Path_(3);
        b0.Filter_();
        b0.FeatureStep("content");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ComplexContent");
        b0._Filter();
        b0.FeatureStep("derivation");
        b0.FeatureStep("base");
        b0._Path();
        b0._QueryDeclaration();
        b0.Choose_(2);
        b0.Call_();
        b0.Name("getComplexBaseType");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getSimpleBaseType");
        b1.Resolver();
        b0._Call();
        b0._Choose();
        b0._Block();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getExtensionBaseDataType");
        b0.Names_(1);
        b0.Name("extension");
        b0._Names();
        b0.Block_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.VariableTest("extension");
        b0._Filter();
        b0.Path_(2);
        b0.FeatureStep("base");
        b0.Choose_(2);
        b0.If_();
        b0.Call_();
        b0.Name("isSchemaQName");
        b1.Resolver();
        b0._Call();
        b0.VariableRefStep("extension");
        b0._If();
        b0.Path_(3);
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("content");
        b0.Choose_(2);
        b0.Path_(3);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleContent");
        b0._Filter();
        b0.FeatureStep("derivation");
        b0.Call_();
        b0.Name("getExtensionBaseDataType");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.VariableRefStep("extension");
        b0._Choose();
        b0._Path();
        b0._Choose();
        b0._Path();
        b0._Block();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getBuiltInType");
        b1.Resolver();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getSimpleBaseType");
        b1.Resolver();
        b0._Call();
        b0.Choose_(2);
        b0.If_();
        b0.Call_();
        b0.Name("isSchemaQName");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getBasePart");
        b1.Resolver();
        b0._Call();
        b0._If();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getBuiltInType");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Choose();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getAppInfo");
        b0.Names_(1);
        b0.Name("annotated");
        b0._Names();
        b0.Block_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.VariableTest("annotated");
        b0._Filter();
        b0.Path_(7);
        b0.VariableRefStep("annotated");
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#annotation");
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#list");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Appinfo");
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#source");
        b0.MatchTest_();
        b1.StageUpFragment_();
        org.whole.lang.xsd.builders.IXsdBuilder b5 = (org.whole.lang.xsd.builders.IXsdBuilder) op.wGetBuilder(org.whole.lang.xsd.reflect.XsdLanguageKit.URI);
        b5.AnyURI("http://lang.whole.org/Models");
        b1._StageUpFragment();
        b0._MatchTest();
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0._And();
        b0._Filter();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#content");
        b0.Filter_();
        b0.ChildStep();
        b0.SubtypeTest("http://lang.whole.org/Commons#Fragment");
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("http://lang.whole.org/Commons#rootEntity");
        b0.LanguageTest("http://lang.whole.org/Models");
        b0._Filter();
        b0._Path();
        b0._Block();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("findAppInfo");
        b1.Resolver();
        b0.Path_(2);
        b0.Choose_(4);
        b0.Path_(4);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupRef");
        b0._Filter();
        b0.FeatureStep("ref");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("modelGroup");
        b0._Path();
        b0.Path_(2);
        b0.FeatureStep("ref");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Path_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupDef");
        b0._Filter();
        b0.FeatureStep("modelGroup");
        b0._Path();
        b0.SelfStep();
        b0._Choose();
        b0.Call_();
        b0.Name("getAppInfo");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0.Path_(2);
        b0.Call_();
        b0.Name("findAppInfo");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("name");
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0.Path_(2);
        b0.Call_();
        b0.Name("findAppInfo");
        b1.Resolver();
        b0._Call();
        b0.Choose_(2);
        b0.If_();
        b0.TypeTest("http://lang.whole.org/Models#Feature");
        b0.FeatureStep("type");
        b0._If();
        b0.SelfStep();
        b0._Choose();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("findImportedAppInfoType");
        b0.Names_(3);
        b0.Name("prefix");
        b0.Name("uri");
        b0.Name("schemaRegistry");
        b0._Names();
        b0.Addition_();
        b0.Call_();
        b0.Name("getUriPart");
        b1.Resolver();
        b0._Call();
        b0.Addition_();
        b0.StringLiteral("#");
        b0.Singleton_();
        b0.Path_(3);
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getAppInfo");
        b1.Resolver();
        b0._Call();
        b0.Choose_(2);
        b0.FeatureStep("name");
        b0.SelfStep();
        b0._Choose();
        b0._Path();
        b0._Singleton();
        b0._Addition();
        b0._Addition();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("addAppInfo");
        b0.Names_(1);
        b0.Name("contents");
        b0._Names();
        b0.Block_(2);
        b0.If_();
        b0.Some_();
        b0.VariableRefStep("contents");
        b1.Resolver();
        b0._Some();
        b0.PointwiseInsert_();
        b0.Placement("INTO");
        b0.Path_(2);
        b0.Choose_(2);
        b0.PointwiseUpdate_();
        b0.Filter_();
        b0.FeatureStep("annotation");
        b0.TypeTest("http://lang.whole.org/Commons#Resolver");
        b0._Filter();
        b1.StageUpFragment_();
        b5.Annotation_();
        b1.Resolver();
        b1.Resolver();
        b1.Resolver();
        b5.AnnotationList_(0);
        b5._AnnotationList();
        b5._Annotation();
        b1._StageUpFragment();
        b0._PointwiseUpdate();
        b0.FeatureStep("annotation");
        b0._Choose();
        b0.FeatureStep("list");
        b0._Path();
        b1.StageUpFragment_();
        b5.Appinfo_();
        b1.Resolver();
        b1.Resolver();
        b1.Resolver();
        b1.Resolver();
        b5.AnnotationContents_(1);
        b1.SameStageFragment_();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Commons#Any");
        b1.VarName("contents");
        b1.Quantifier("!");
        b1._Variable();
        b1._SameStageFragment();
        b5._AnnotationContents();
        b5._Appinfo();
        b1._StageUpFragment();
        b0._PointwiseInsert();
        b0._If();
        b0.SelfStep();
        b0._Block();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("cloneMappings");
        b0.Names_(6);
        b0.Name("targetContextType");
        b0.Name("sourceRef");
        b0.Name("sourceContextType");
        b0.Name("clonedMapping");
        b0.Name("strategyRegistry");
        b0.Name("lk");
        b0._Names();
        b0.Choose_(2);
        b0.If_();
        b0.Path_(2);
        b0.VariableRefStep("sourceRef");
        b0.Call_();
        b0.Name("isLocalQName");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Sequence_(2);
        b0.Path_(3);
        b0.VariableRefStep("sourceRef");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("sourceContextType");
        b0._Filter();
        b0._Path();
        b0.For_();
        b0.Path_(3);
        b0.VariableRefStep("mappingStrategy");
        b0.FeatureStep("http://xsd.lang.whole.org/Mapping#mappings");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.SubtypeTest("http://xsd.lang.whole.org/Mapping#ContextMapping");
        b0.Equals_();
        b0.FeatureStep("http://xsd.lang.whole.org/Mapping#contextEntityType");
        b0.VariableRefStep("sourceContextType");
        b0._Equals();
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Sequence_(3);
        b0.Filter_();
        b2.InvokeJavaClassMethod_();
        b2.Text("clone mapping");
        b1.Resolver();
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.util.EntityUtils");
        b2.StringLiteral("clone(org.whole.lang.model.IEntity)");
        b2.Expressions_(1);
        b2.Variable("self");
        b2._Expressions();
        b2._InvokeJavaClassMethod();
        b0.VariableTest("clonedMapping");
        b0._Filter();
        b0.PointwiseUpdate_();
        b0.Path_(2);
        b0.VariableRefStep("clonedMapping");
        b0.FeatureStep("http://xsd.lang.whole.org/Mapping#contextEntityType");
        b0._Path();
        b0.VariableRefStep("targetContextType");
        b0._PointwiseUpdate();
        b0.PointwiseInsert_();
        b0.Placement("INTO");
        b0.Path_(2);
        b0.VariableRefStep("mappingStrategy");
        b0.FeatureStep("http://xsd.lang.whole.org/Mapping#mappings");
        b0._Path();
        b0.VariableRefStep("clonedMapping");
        b0._PointwiseInsert();
        b0._Sequence();
        b0._For();
        b0._Sequence();
        b0._If();
        b0.Do_();
        b1.Resolver();
        b0._Do();
        b0._Choose();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getType");
        b1.Resolver();
        b0.Choose_(2);
        b0.Filter_();
        b0.FeatureStep("simpleType");
        b0.KindTest("IMPL");
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("type");
        b0.KindTest("IMPL");
        b0._Filter();
        b0._Choose();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getTypeDef");
        b1.Resolver();
        b0.Choose_(3);
        b0.Path_(2);
        b0.Call_();
        b0.Name("getType");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Filter_();
        b0.FeatureStep("simpleTypeDef");
        b0.KindTest("IMPL");
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("typeDef");
        b0.KindTest("IMPL");
        b0._Filter();
        b0._Choose();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getParticlesContainer");
        b1.Resolver();
        b0.Choose_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupDef");
        b0._Filter();
        b0.Path_(2);
        b0.FeatureStep("content");
        b0.Choose_(2);
        b0.Path_(3);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ComplexContent");
        b0._Filter();
        b0.FeatureStep("derivation");
        b0.FeatureStep("content");
        b0._Path();
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#DeclaredContent");
        b0._Filter();
        b0._Choose();
        b0._Path();
        b0._Choose();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getDescendantParticles");
        b1.Resolver();
        b0.Path_(1);
        b0.Sequence_(2);
        b0.SelfStep();
        b0.If_();
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupWithParticles");
        b0.Path_(3);
        b0.FeatureStep("particles");
        b0.ChildStep();
        b0.Call_();
        b0.Name("getDescendantParticles");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._If();
        b0._Sequence();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getComponentParticles");
        b1.Resolver();
        b0.Path_(3);
        b0.Call_();
        b0.Name("getParticlesContainer");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#modelGroup");
        b0.Call_();
        b0.Name("getDescendantParticles");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getComponentChildParticles");
        b1.Resolver();
        b0.Path_(3);
        b0.Call_();
        b0.Name("getParticlesContainer");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#modelGroup");
        b0.Call_();
        b0.Name("getChildParticles");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getChildParticles");
        b1.Resolver();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#particles");
        b0.ChildStep();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getLocalParticles");
        b1.Resolver();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#particles");
        b0.Filter_();
        b0.ChildStep();
        b0.Not_();
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#Reference");
        b0._Not();
        b0._Filter();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getReferencedParticles");
        b1.Resolver();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#particles");
        b0.Filter_();
        b0.ChildStep();
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#Reference");
        b0._Filter();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getComponentModelGroupWithParticles");
        b1.Resolver();
        b0.Filter_();
        b0.Call_();
        b0.Name("getComponentParticles");
        b1.Resolver();
        b0._Call();
        b0.And_(2);
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupWithParticles");
        b0.KindTest("IMPL");
        b0._And();
        b0._Filter();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getBaseParticles");
        b1.Resolver();
        b0.Sequence_(2);
        b0.Path_(5);
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#content");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ComplexContent");
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#derivation");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ComplexExtension");
        b0._Filter();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#base");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getBaseParticles");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getParticlesContainer");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#modelGroup");
        b0.KindTest("IMPL");
        b0._Filter();
        b0._Path();
        b0._Sequence();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getAttributesContainer");
        b1.Resolver();
        b0.Path_(2);
        b0.FeatureStep("content");
        b0.Choose_(3);
        b0.Path_(3);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ComplexContent");
        b0._Filter();
        b0.FeatureStep("derivation");
        b0.FeatureStep("content");
        b0._Path();
        b0.Path_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleContent");
        b0._Filter();
        b0.FeatureStep("derivation");
        b0._Path();
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#DeclaredContent");
        b0._Filter();
        b0._Choose();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getAttributesGroupChildren");
        b1.Resolver();
        b0.Path_(5);
        b0.FeatureStep("ref");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("attributeUses");
        b0.ChildStep();
        b0.Choose_(2);
        b0.Path_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeGroupRef");
        b0._Filter();
        b0.Call_();
        b0.Name("getAttributesGroupChildren");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Filter_();
        b0.SelfStep();
        b0.Not_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeGroupRef");
        b0._Not();
        b0._Filter();
        b0._Choose();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getLocalAttributes");
        b1.Resolver();
        b0.Path_(3);
        b0.Call_();
        b0.Name("getAttributesContainer");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("attributeUses");
        b0.Filter_();
        b0.ChildStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeUseDecl");
        b0._Filter();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getReferencedAttributes");
        b1.Resolver();
        b0.Path_(4);
        b0.Call_();
        b0.Name("getAttributesContainer");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("attributeUses");
        b0.Filter_();
        b0.ChildStep();
        b0.Not_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeUseDecl");
        b0._Not();
        b0._Filter();
        b0.Choose_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeUseRef");
        b0._Filter();
        b0.Call_();
        b0.Name("getAttributesGroupChildren");
        b1.Resolver();
        b0._Call();
        b0._Choose();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getDeclaredAttributes");
        b1.Resolver();
        b0.Sequence_(2);
        b0.Call_();
        b0.Name("getReferencedAttributes");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getLocalAttributes");
        b1.Resolver();
        b0._Call();
        b0._Sequence();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getInheritedAttributes");
        b0.Names_(1);
        b0.Name("excluded");
        b0._Names();
        b0.Path_(3);
        b0.Call_();
        b0.Name("getBaseType");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getAttributes");
        b0.Expressions_(1);
        b0.VariableRefStep("excluded");
        b0._Expressions();
        b0._Call();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getAttributes");
        b0.Names_(2);
        b0.Name("excluded");
        b0.Name("declared");
        b0._Names();
        b0.Block_(3);
        b0.Filter_();
        b0.Union_();
        b0.Expressions_(0);
        b0._Expressions();
        b1.Resolver();
        b0._Union();
        b0.VariableTest("excluded");
        b0._Filter();
        b0.Filter_();
        b0.Except_();
        b0.Expressions_(2);
        b0.Call_();
        b0.Name("getDeclaredAttributes");
        b1.Resolver();
        b0._Call();
        b0.Path_(2);
        b0.VariableRefStep("excluded");
        b0.ChildStep();
        b0._Path();
        b0._Expressions();
        b0.IdentityComparator_();
        b0.FeatureStep("name");
        b0._IdentityComparator();
        b0._Except();
        b0.VariableTest("declared");
        b0._Filter();
        b0.Sequence_(2);
        b0.CartesianInsert_();
        b0.Placement("INTO");
        b0.VariableRefStep("excluded");
        b0.Path_(2);
        b0.VariableRefStep("declared");
        b0.ChildStep();
        b0._Path();
        b0._CartesianInsert();
        b0.Call_();
        b0.Name("getInheritedAttributes");
        b0.Expressions_(1);
        b0.VariableRefStep("excluded");
        b0._Expressions();
        b0._Call();
        b0._Sequence();
        b0._Block();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getAttributesGroupWildcards");
        b1.Resolver();
        b0.Path_(3);
        b0.FeatureStep("ref");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Sequence_(2);
        b0.Filter_();
        b0.FeatureStep("anyAttribute");
        b0.KindTest("IMPL");
        b0._Filter();
        b0.Path_(3);
        b0.FeatureStep("attributeUses");
        b0.Filter_();
        b0.ChildStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeGroupRef");
        b0._Filter();
        b0.Call_();
        b0.Name("getAttributesGroupWildcards");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Sequence();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getLocalWildcardAttribute");
        b1.Resolver();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getAttributesContainer");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.FeatureStep("anyAttribute");
        b0.KindTest("IMPL");
        b0._Filter();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getDeclaredWildcardAttribute");
        b1.Resolver();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getAttributesContainer");
        b1.Resolver();
        b0._Call();
        b0.Sequence_(2);
        b0.Filter_();
        b0.FeatureStep("anyAttribute");
        b0.KindTest("IMPL");
        b0._Filter();
        b0.Path_(3);
        b0.FeatureStep("attributeUses");
        b0.Filter_();
        b0.ChildStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeGroupRef");
        b0._Filter();
        b0.Call_();
        b0.Name("getAttributesGroupWildcards");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Sequence();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getInheritedWildcardAttribute");
        b1.Resolver();
        b0.Path_(3);
        b0.Call_();
        b0.Name("getBaseType");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getWildcardAttribute");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("getWildcardAttribute");
        b1.Resolver();
        b0.Block_(2);
        b1.StageUpFragment_();
        org.whole.lang.text.builders.ITextBuilder b6 = (org.whole.lang.text.builders.ITextBuilder) op.wGetBuilder(org.whole.lang.text.reflect.TextLanguageKit.URI);
        b6.Document_(2);
        b6.Row_(1);
        b6.Text("1. Implement wildcard namespaceSpecs intersection/union algorithms");
        b6._Row();
        b6.Row_(1);
        b6.Text("(currently the first anyAttribute in hierarchy is returned)");
        b6._Row();
        b6._Document();
        b1._StageUpFragment();
        b0.Filter_();
        b0.Sequence_(2);
        b0.Call_();
        b0.Name("getDeclaredWildcardAttribute");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getInheritedWildcardAttribute");
        b1.Resolver();
        b0._Call();
        b0._Sequence();
        b0.IndexTest_();
        b0.IntLiteral(0);
        b0._IndexTest();
        b0._Filter();
        b0._Block();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("hasAttributes");
        b1.Resolver();
        b0.Some_();
        b0.Sequence_(2);
        b0.Call_();
        b0.Name("getAttributes");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getWildcardAttribute");
        b1.Resolver();
        b0._Call();
        b0._Sequence();
        b1.Resolver();
        b0._Some();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("needsFeatureDeclarations");
        b1.Resolver();
        b0.Some_();
        b0.Choose_(2);
        b0.Path_(2);
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#content");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleContent");
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#derivation");
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleRestriction");
        b0.Not_();
        b0.Some_();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#facets");
        b0.ChildStep();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._Not();
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#content");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ComplexContent");
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#derivation");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ComplexRestriction");
        b0._Filter();
        b0._Path();
        b0._Choose();
        b1.Resolver();
        b0._Some();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("isChoiceModelGroupDef");
        b1.Resolver();
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupDef");
        b0.Some_();
        b0.Filter_();
        b0.Call_();
        b0.Name("getComponentModelGroupWithParticles");
        b1.Resolver();
        b0._Call();
        b0.And_(2);
        b0.IndexTest_();
        b0.IntLiteral(0);
        b0._IndexTest();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Choice");
        b0._And();
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0._And();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("isChoiceModelGroupRef");
        b1.Resolver();
        b0.Some_();
        b0.Path_(3);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupRef");
        b0._Filter();
        b0.FeatureStep("ref");
        b0.Filter_();
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("isChoiceModelGroupDef");
        b1.Resolver();
        b0._Call();
        b0._Filter();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("asImportedType");
        b1.Resolver();
        b0.Filter_();
        b0.Choose_(3);
        b0.Path_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ElementDecl");
        b0._Filter();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#type");
        b0._Path();
        b0.Path_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#AttributeDecl");
        b0._Filter();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#simpleType");
        b0._Path();
        b0.Path_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.And_(2);
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#Reference");
        b0.Not_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeGroupRef");
        b0._Not();
        b0._And();
        b0._Filter();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#ref");
        b0._Path();
        b0._Choose();
        b0.And_(2);
        b0.KindTest("IMPL");
        b0.Call_();
        b0.Name("isImportedQName");
        b1.Resolver();
        b0._Call();
        b0._And();
        b0._Filter();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("allChoiceSubstitutions");
        b1.Resolver();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getChildParticles");
        b1.Resolver();
        b0._Call();
        b0.Choose_(2);
        b0.Path_(4);
        b0.Filter_();
        b0.SelfStep();
        b0.Call_();
        b0.Name("isChoiceModelGroupRef");
        b1.Resolver();
        b0._Call();
        b0._Filter();
        b0.FeatureStep("ref");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("allChoiceModelGroupDefSubstitutions");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.SelfStep();
        b0._Choose();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("allChoiceModelGroupDefSubstitutions");
        b1.Resolver();
        b0.Path_(2);
        b0.Filter_();
        b0.Call_();
        b0.Name("getComponentModelGroupWithParticles");
        b1.Resolver();
        b0._Call();
        b0.IndexTest_();
        b0.IntLiteral(0);
        b0._IndexTest();
        b0._Filter();
        b0.Call_();
        b0.Name("allChoiceSubstitutions");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("mapsToCompositeEntity");
        b1.Resolver();
        b0.Choose_(2);
        b0.If_();
        b0.And_(3);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Sequence");
        b0.Not_();
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#maxOccurs");
        b0.MatchTest_();
        b1.StageUpFragment_();
        b5.Bounded(1);
        b1._StageUpFragment();
        b0._MatchTest();
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0._Not();
        b0.Not_();
        b0.Some_();
        b0.Filter_();
        b0.ParentStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupDef");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0._Not();
        b0._And();
        b0.BooleanLiteral(true);
        b0._If();
        b0.Do_();
        b0.BooleanLiteral(false);
        b0._Do();
        b0._Choose();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("mapToModelDeclaration");
        b0.Names_(7);
        b0.Name("eType");
        b0.Name("cType");
        b0.Name("features");
        b0.Name("fName");
        b0.Name("fType");
        b0.Name("fModifier");
        b0.Name("attributeFeatures");
        b0._Names();
        b0.Choose_(7);
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ElementDecl");
        b0.Block_(2);
        b0.Call_();
        b0.Name("addBuiltInModelDeclatration");
        b0.Expressions_(1);
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0._Expressions();
        b0._Call();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#typeDef");
        b0.Call_();
        b0.Name("mapToModelDeclaration");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Block();
        b0._If();
        b0.If_();
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#AttributeDecl");
        b0.Block_(2);
        b0.Call_();
        b0.Name("addBuiltInModelDeclatration");
        b0.Expressions_(1);
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0._Expressions();
        b0._Call();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#simpleTypeDef");
        b0.Call_();
        b0.Name("mapToModelDeclaration");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Block();
        b0._If();
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ComplexTypeDef");
        b0.Sequence_(2);
        b0.Path_(2);
        b0.Sequence_(3);
        b0.Path_(2);
        b0.Call_();
        b0.Name("getParticlesContainer");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#modelGroup");
        b0._Path();
        b0.Path_(3);
        b0.Filter_();
        b0.SelfStep();
        b0.Not_();
        b0.Call_();
        b0.Name("needsFeatureDeclarations");
        b1.Resolver();
        b0._Call();
        b0._Not();
        b0._Filter();
        b0.Call_();
        b0.Name("getDeclaredAttributes");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.SelfStep();
        b0.Not_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeUseRef");
        b0._Not();
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#content");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleContent");
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#derivation");
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleRestriction");
        b0.Some_();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#facets");
        b0.ChildStep();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._And();
        b0._Filter();
        b0._Path();
        b0._Sequence();
        b0.Call_();
        b0.Name("mapToModelDeclaration");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Select_();
        b1.StageUpFragment_();
        b3.SimpleEntity_();
        b3.EntityModifiers_(0);
        b3._EntityModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("eType");
        b1.Quantifier("!");
        b1._Variable();
        b3.Types_(0);
        b3._Types();
        b3.Features_(2);
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#Feature");
        b1.VarName("attributeFeatures");
        b1.Quantifier("*");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#Feature");
        b1.VarName("features");
        b1.Quantifier("*");
        b1._Variable();
        b3._Features();
        b3._SimpleEntity();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Sequence_(3);
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("eType");
        b0._Filter();
        b0.Choose_(3);
        b0.Select_();
        b0.Filter_();
        b1.StageUpFragment_();
        b3.Feature_();
        b3.FeatureModifiers_(0);
        b3._FeatureModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fName");
        b1.Quantifier("!");
        b1._Variable();
        b1.Resolver();
        b3._Feature();
        b1._StageUpFragment();
        b0.VariableTest("features");
        b0._Filter();
        b0.Path_(2);
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#content");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleContent");
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#derivation");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleExtension");
        b0._Filter();
        b0._Path();
        b0.Sequence_(3);
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("fType");
        b0._Filter();
        b0.Call_();
        b0.Name("addBuiltInModelDeclatration");
        b0.Expressions_(1);
        b0.VariableRefStep("fType");
        b0._Expressions();
        b0._Call();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("fName");
        b0._Filter();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0.Select_();
        b0.Filter_();
        b1.StageUpFragment_();
        b3.Feature_();
        b3.FeatureModifiers_(0);
        b3._FeatureModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fName");
        b1.Quantifier("!");
        b1._Variable();
        b1.Resolver();
        b3._Feature();
        b1._StageUpFragment();
        b0.VariableTest("features");
        b0._Filter();
        b0.Path_(2);
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#content");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleContent");
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#derivation");
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleRestriction");
        b0.Some_();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#facets");
        b0.ChildStep();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Sequence_(2);
        b0.Path_(2);
        b0.Call_();
        b0.Name("findAppInfo");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.FeatureStep("http://lang.whole.org/Models#name");
        b0.VariableTest("fType");
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getSuperSimpleExtension");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("fName");
        b0._Filter();
        b0._Path();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0.Select_();
        b0.Filter_();
        b1.StageUpFragment_();
        b3.Feature_();
        b3.FeatureModifiers_(1);
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#FeatureModifier");
        b1.VarName("fModifier");
        b1.Quantifier("*");
        b1._Variable();
        b3._FeatureModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fName");
        b1.Quantifier("!");
        b1._Variable();
        b1.Resolver();
        b3._Feature();
        b1._StageUpFragment();
        b0.VariableTest("features");
        b0._Filter();
        b0.Path_(1);
        b0.Call_();
        b0.Name("getBaseParticles");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Sequence_(3);
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("fType");
        b0._Filter();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("fName");
        b0._Filter();
        b0.If_();
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#minOccurs");
        b0.MatchTest_();
        b1.StageUpFragment_();
        b5.Bounded(0);
        b1._StageUpFragment();
        b0._MatchTest();
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0.Filter_();
        b1.StageUpFragment_();
        b3.FeatureModifier("optional");
        b1._StageUpFragment();
        b0.VariableTest("fModifier");
        b0._Filter();
        b0._If();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0._Choose();
        b0.Select_();
        b0.Filter_();
        b1.StageUpFragment_();
        b3.Feature_();
        b3.FeatureModifiers_(1);
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#FeatureModifier");
        b1.VarName("fModifier");
        b1.Quantifier("*");
        b1._Variable();
        b3._FeatureModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fName");
        b1.Quantifier("!");
        b1._Variable();
        b1.Resolver();
        b3._Feature();
        b1._StageUpFragment();
        b0.VariableTest("attributeFeatures");
        b0._Filter();
        b0.Path_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.Not_();
        b0.Call_();
        b0.Name("needsFeatureDeclarations");
        b1.Resolver();
        b0._Call();
        b0._Not();
        b0._Filter();
        b0.Call_();
        b0.Name("getDeclaredAttributes");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Sequence_(2);
        b0.Path_(2);
        b0.Choose_(2);
        b0.Path_(3);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeUseRef");
        b0._Filter();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#ref");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.SelfStep();
        b0._Choose();
        b0.Sequence_(2);
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("fType");
        b0._Filter();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("fName");
        b0._Filter();
        b0._Sequence();
        b0._Path();
        b0.If_();
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#use");
        b0.MatchTest_();
        b1.StageUpFragment_();
        b5.Use("optional");
        b1._StageUpFragment();
        b0._MatchTest();
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0.Filter_();
        b1.StageUpFragment_();
        b3.FeatureModifier("optional");
        b1._StageUpFragment();
        b0.VariableTest("fModifier");
        b0._Filter();
        b0._If();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0._Sequence();
        b0._If();
        b0.If_();
        b0.Or_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Sequence");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#All");
        b0._Or();
        b0.Sequence_(2);
        b0.Path_(2);
        b0.Call_();
        b0.Name("getChildParticles");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("mapToModelDeclaration");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Choose_(2);
        b0.If_();
        b0.Call_();
        b0.Name("mapsToCompositeEntity");
        b1.Resolver();
        b0._Call();
        b0.Select_();
        b1.StageUpFragment_();
        b3.CompositeEntity_();
        b3.EntityModifiers_(0);
        b3._EntityModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("eType");
        b1.Quantifier("!");
        b1._Variable();
        b3.Types_(0);
        b3._Types();
        b3.ComponentModifiers_(1);
        b3.ComponentModifier("ordered");
        b3._ComponentModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("cType");
        b1.Quantifier("?");
        b1._Variable();
        b3._CompositeEntity();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Sequence_(2);
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("eType");
        b0._Filter();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getChildParticles");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("cType");
        b0._Filter();
        b0._Path();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0._If();
        b0.Select_();
        b1.StageUpFragment_();
        b3.SimpleEntity_();
        b3.EntityModifiers_(0);
        b3._EntityModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("eType");
        b1.Quantifier("!");
        b1._Variable();
        b3.Types_(0);
        b3._Types();
        b3.Features_(1);
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#Feature");
        b1.VarName("features");
        b1.Quantifier("*");
        b1._Variable();
        b3._Features();
        b3._SimpleEntity();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Sequence_(2);
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("eType");
        b0._Filter();
        b0.Select_();
        b0.Filter_();
        b1.StageUpFragment_();
        b3.Feature_();
        b3.FeatureModifiers_(1);
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#FeatureModifier");
        b1.VarName("fModifier");
        b1.Quantifier("*");
        b1._Variable();
        b3._FeatureModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fName");
        b1.Quantifier("!");
        b1._Variable();
        b1.Resolver();
        b3._Feature();
        b1._StageUpFragment();
        b0.VariableTest("features");
        b0._Filter();
        b0.Call_();
        b0.Name("getChildParticles");
        b1.Resolver();
        b0._Call();
        b0.Sequence_(3);
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("fType");
        b0._Filter();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("fName");
        b0._Filter();
        b0.If_();
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#minOccurs");
        b0.MatchTest_();
        b1.StageUpFragment_();
        b5.Bounded(0);
        b1._StageUpFragment();
        b0._MatchTest();
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0.Filter_();
        b1.StageUpFragment_();
        b3.FeatureModifier("optional");
        b1._StageUpFragment();
        b0.VariableTest("fModifier");
        b0._Filter();
        b0._If();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0._Choose();
        b0._Sequence();
        b0._If();
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Choice");
        b0.Sequence_(2);
        b0.Select_();
        b1.StageUpFragment_();
        b3.SimpleEntity_();
        b3.EntityModifiers_(1);
        b3.EntityModifier("abstract");
        b3._EntityModifiers();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("eType");
        b1.Quantifier("!");
        b1._Variable();
        b3.Types_(0);
        b3._Types();
        b3.Features_(0);
        b3._Features();
        b3._SimpleEntity();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("eType");
        b0._Filter();
        b0.TemplateNames();
        b0._Select();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getChildParticles");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("mapToModelDeclaration");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Sequence();
        b0._If();
        b0.If_();
        b0.Or_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleTypeDef");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleRestriction");
        b0._Or();
        b0.Block_(2);
        b0.PointwiseInsert_();
        b0.Placement("INTO");
        b0.VariableRefStep("mappedCustomDataTypes");
        b0.Call_();
        b0.Name("mapToDataType");
        b1.Resolver();
        b0._Call();
        b0._PointwiseInsert();
        b0.Call_();
        b0.Name("findAppInfo");
        b1.Resolver();
        b0._Call();
        b0._Block();
        b0._If();
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ModelGroupDef");
        b0.Path_(2);
        b0.Call_();
        b0.Name("getComponentChildParticles");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("mapToModelDeclaration");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._If();
        b0._Choose();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("mapToMapping");
        b0.Names_(8);
        b0.Name("contextStack");
        b0.Name("ncname");
        b0.Name("entityType");
        b0.Name("newContextStack");
        b0.Name("context");
        b0.Name("previousContext");
        b0.Name("contextEntityType");
        b0.Name("featureType");
        b0._Names();
        b0.Choose_(12);
        b0.If_();
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ElementDecl");
        b0.Not_();
        b0.Some_();
        b0.Path_(1);
        b0.VariableRefStep("contextStack");
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._Not();
        b0._And();
        b0.Sequence_(2);
        b0.Select_();
        b1.StageUpFragment_();
        b4.RootMapping_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#NCName");
        b1.VarName("ncname");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b4._RootMapping();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Sequence_(2);
        b0.Filter_();
        b0.FeatureStep("name");
        b0.VariableTest("ncname");
        b0._Filter();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("entityType");
        b0._Filter();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#typeDef");
        b0.Call_();
        b0.Name("mapToMapping");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Sequence();
        b0._If();
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ComplexTypeDef");
        b0.Block_(2);
        b0.Filter_();
        b0.Union_();
        b0.Expressions_(1);
        b0.SelfStep();
        b0._Expressions();
        b1.Resolver();
        b0._Union();
        b0.VariableTest("newContextStack");
        b0._Filter();
        b0.Path_(2);
        b0.Sequence_(2);
        b0.Choose_(2);
        b0.Path_(1);
        b0.Call_();
        b0.Name("getBaseParticles");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Path_(2);
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#content");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleContent");
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#derivation");
        b0.Or_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleExtension");
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleRestriction");
        b0.Some_();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#facets");
        b0.ChildStep();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._And();
        b0._Or();
        b0._Filter();
        b0._Path();
        b0._Choose();
        b0.Path_(3);
        b0.Filter_();
        b0.SelfStep();
        b0.Not_();
        b0.Call_();
        b0.Name("needsFeatureDeclarations");
        b1.Resolver();
        b0._Call();
        b0._Not();
        b0._Filter();
        b0.Sequence_(2);
        b0.Call_();
        b0.Name("getInheritedAttributes");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getDeclaredAttributes");
        b1.Resolver();
        b0._Call();
        b0._Sequence();
        b0.Choose_(2);
        b0.Path_(3);
        b0.Filter_();
        b0.SelfStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#AttributeUseRef");
        b0._Filter();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#ref");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.SelfStep();
        b0._Choose();
        b0._Path();
        b0._Sequence();
        b0.Call_();
        b0.Name("mapToMapping");
        b0.Expressions_(1);
        b0.VariableRefStep("newContextStack");
        b0._Expressions();
        b0._Call();
        b0._Path();
        b0._Block();
        b0._If();
        b0.If_();
        b0.Or_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ElementRef");
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#ElementDecl");
        b0._Or();
        b0.Block_(2);
        b0.Filter_();
        b0.Call_();
        b0.Name("getName");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("ncname");
        b0._Filter();
        b0.Sequence_(3);
        b0.Select_();
        b1.StageUpFragment_();
        b4.StructuralMapping_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("contextEntityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#NCName");
        b1.VarName("ncname");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("featureType");
        b1.Quantifier("?");
        b1._Variable();
        b4._StructuralMapping();
        b1._StageUpFragment();
        b0.Path_(2);
        b0.VariableRefStep("contextStack");
        b0.PointwiseProduct_(2);
        b0.Filter_();
        b0.ChildStep();
        b0.VariableTest("previousContext");
        b0._Filter();
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.IndexRangeTest_();
        b0.IntLiteral(1);
        b1.Resolver();
        b0._IndexRangeTest();
        b0.VariableTest("context");
        b0._And();
        b0._Filter();
        b0._PointwiseProduct();
        b0._Path();
        b0.Sequence_(3);
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("contextEntityType");
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.VariableRefStep("previousContext");
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("entityType");
        b0._Filter();
        b0._Path();
        b0.If_();
        b0.Not_();
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Call_();
        b0.Name("mapsToCompositeEntity");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Not();
        b0.Path_(2);
        b0.VariableRefStep("previousContext");
        b0.Filter_();
        b0.Choose_(2);
        b0.If_();
        b0.And_(2);
        b0.Some_();
        b0.Path_(2);
        b0.ParentStep();
        b0.Filter_();
        b0.ParentStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Choice");
        b0._Filter();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0.Call_();
        b0.Name("mapsToCompositeEntity");
        b1.Resolver();
        b0._Call();
        b0._And();
        b0.Path_(3);
        b0.ParentStep();
        b0.ParentStep();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._If();
        b0.Do_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0._Do();
        b0._Choose();
        b0.VariableTest("featureType");
        b0._Filter();
        b0._Path();
        b0._If();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0.Select_();
        b1.StageUpFragment_();
        b4.ElementMapping_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("contextEntityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#NCName");
        b1.VarName("ncname");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("featureType");
        b1.Quantifier("?");
        b1._Variable();
        b4._ElementMapping();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Sequence_(4);
        b0.Path_(2);
        b0.VariableRefStep("contextStack");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.IndexTest_();
        b0.IntLiteral(0);
        b0._IndexTest();
        b0.VariableTest("context");
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("contextEntityType");
        b0._Filter();
        b0._Path();
        b0.Filter_();
        b0.Choose_(3);
        b0.Path_(2);
        b0.Filter_();
        b0.VariableRefStep("ncname");
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#QName");
        b0.Not_();
        b0.Call_();
        b0.Name("isLocalQName");
        b1.Resolver();
        b0._Call();
        b0._Not();
        b0._And();
        b0._Filter();
        b0.Addition_();
        b0.Call_();
        b0.Name("getUriPart");
        b1.Resolver();
        b0._Call();
        b0.Addition_();
        b0.StringLiteral("#");
        b0.Singleton_();
        b0.Path_(3);
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("getAppInfo");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("type");
        b0._Path();
        b0._Singleton();
        b0._Addition();
        b0._Addition();
        b0._Path();
        b0.Path_(2);
        b0.Call_();
        b0.Name("asImportedType");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("findImportedAppInfoType");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0._Choose();
        b0.VariableTest("entityType");
        b0._Filter();
        b0.If_();
        b0.Not_();
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Call_();
        b0.Name("mapsToCompositeEntity");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Not();
        b0.Filter_();
        b0.Choose_(2);
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.Path_(3);
        b0.ParentStep();
        b0.ParentStep();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Choose();
        b0.VariableTest("featureType");
        b0._Filter();
        b0._If();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#typeDef");
        b0.Call_();
        b0.Name("mapToMapping");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Sequence();
        b0._Block();
        b0._If();
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Any");
        b0.Sequence_(2);
        b0.Select_();
        b1.StageUpFragment_();
        b4.AnyStructuralMapping_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("contextEntityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("featureType");
        b1.Quantifier("?");
        b1._Variable();
        b4._AnyStructuralMapping();
        b1._StageUpFragment();
        b0.Path_(2);
        b0.VariableRefStep("contextStack");
        b0.PointwiseProduct_(2);
        b0.Filter_();
        b0.ChildStep();
        b0.VariableTest("previousContext");
        b0._Filter();
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.IndexRangeTest_();
        b0.IntLiteral(1);
        b1.Resolver();
        b0._IndexRangeTest();
        b0.VariableTest("context");
        b0._And();
        b0._Filter();
        b0._PointwiseProduct();
        b0._Path();
        b0.Sequence_(3);
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("contextEntityType");
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.VariableRefStep("previousContext");
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("entityType");
        b0._Filter();
        b0._Path();
        b0.If_();
        b0.Not_();
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Call_();
        b0.Name("mapsToCompositeEntity");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Not();
        b0.Path_(2);
        b0.VariableRefStep("previousContext");
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("featureType");
        b0._Filter();
        b0._Path();
        b0._If();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0.Select_();
        b1.StageUpFragment_();
        b4.AnyElementMapping_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("contextEntityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("featureType");
        b1.Quantifier("?");
        b1._Variable();
        b4._AnyElementMapping();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Sequence_(4);
        b0.Path_(2);
        b0.VariableRefStep("contextStack");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.IndexTest_();
        b0.IntLiteral(0);
        b0._IndexTest();
        b0.VariableTest("context");
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("contextEntityType");
        b0._Filter();
        b0._Path();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("entityType");
        b0._Filter();
        b0.If_();
        b0.Not_();
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Call_();
        b0.Name("mapsToCompositeEntity");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Not();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("featureType");
        b0._Filter();
        b0._If();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0._Sequence();
        b0._If();
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleExtension");
        b0.Select_();
        b1.StageUpFragment_();
        b4.ContentMapping_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("contextEntityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("featureType");
        b1.Quantifier("!");
        b1._Variable();
        b4._ContentMapping();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Sequence_(4);
        b0.Path_(2);
        b0.VariableRefStep("contextStack");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.IndexTest_();
        b0.IntLiteral(0);
        b0._IndexTest();
        b0.VariableTest("context");
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("contextEntityType");
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getExtensionBaseDataType");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("entityType");
        b0._Filter();
        b0._Path();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("featureType");
        b0._Filter();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0._If();
        b0.If_();
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleRestriction");
        b0.Some_();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#facets");
        b0.ChildStep();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._And();
        b0.Select_();
        b1.StageUpFragment_();
        b4.ContentMapping_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("contextEntityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("featureType");
        b1.Quantifier("!");
        b1._Variable();
        b4._ContentMapping();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Sequence_(4);
        b0.Path_(2);
        b0.VariableRefStep("contextStack");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.IndexTest_();
        b0.IntLiteral(0);
        b0._IndexTest();
        b0.VariableTest("context");
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("contextEntityType");
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.Call_();
        b0.Name("findAppInfo");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.FeatureStep("http://lang.whole.org/Models#name");
        b0.VariableTest("entityType");
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getSuperSimpleExtension");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("featureType");
        b0._Filter();
        b0._Path();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0._If();
        b0.If_();
        b0.And_(2);
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#AttributeDecl");
        b0.Some_();
        b0.Path_(1);
        b0.VariableRefStep("contextStack");
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._And();
        b0.Select_();
        b1.StageUpFragment_();
        b4.AttributeMapping_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("contextEntityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#NCName");
        b1.VarName("ncname");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("featureType");
        b1.Quantifier("!");
        b1._Variable();
        b4._AttributeMapping();
        b1._StageUpFragment();
        b0.SelfStep();
        b0.Sequence_(5);
        b0.Filter_();
        b0.Call_();
        b0.Name("getName");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("ncname");
        b0._Filter();
        b0.Path_(2);
        b0.VariableRefStep("contextStack");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.IndexTest_();
        b0.IntLiteral(0);
        b0._IndexTest();
        b0.VariableTest("context");
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.VariableRefStep("context");
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("contextEntityType");
        b0._Filter();
        b0._Path();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("entityType");
        b0._Filter();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfoFeature");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("featureType");
        b0._Filter();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0._If();
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Sequence");
        b0.Block_(2);
        b0.Filter_();
        b0.Choose_(2);
        b0.If_();
        b0.Some_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b1.Resolver();
        b0._Some();
        b0.Union_();
        b0.Expressions_(2);
        b0.SelfStep();
        b0.Path_(2);
        b0.VariableRefStep("contextStack");
        b0.ChildStep();
        b0._Path();
        b0._Expressions();
        b1.Resolver();
        b0._Union();
        b0._If();
        b0.Do_();
        b0.VariableRefStep("contextStack");
        b0._Do();
        b0._Choose();
        b0.VariableTest("newContextStack");
        b0._Filter();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getChildParticles");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("mapToMapping");
        b0.Expressions_(1);
        b0.VariableRefStep("newContextStack");
        b0._Expressions();
        b0._Call();
        b0._Path();
        b0._Block();
        b0._If();
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#All");
        b0.Block_(2);
        b0.Filter_();
        b0.Choose_(2);
        b0.If_();
        b0.Some_();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b1.Resolver();
        b0._Some();
        b0.Union_();
        b0.Expressions_(2);
        b0.SelfStep();
        b0.Path_(2);
        b0.VariableRefStep("contextStack");
        b0.ChildStep();
        b0._Path();
        b0._Expressions();
        b1.Resolver();
        b0._Union();
        b0._If();
        b0.Do_();
        b0.VariableRefStep("contextStack");
        b0._Do();
        b0._Choose();
        b0.VariableTest("newContextStack");
        b0._Filter();
        b0.Path_(2);
        b0.Call_();
        b0.Name("getChildParticles");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("mapToMapping");
        b0.Expressions_(1);
        b0.VariableRefStep("newContextStack");
        b0._Expressions();
        b0._Call();
        b0._Path();
        b0._Block();
        b0._If();
        b0.If_();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Choice");
        b0.Path_(2);
        b0.Call_();
        b0.Name("allChoiceSubstitutions");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("mapToMapping");
        b0.Expressions_(1);
        b0.VariableRefStep("contextStack");
        b0._Expressions();
        b0._Call();
        b0._Path();
        b0._If();
        b0.If_();
        b0.Call_();
        b0.Name("isChoiceModelGroupRef");
        b1.Resolver();
        b0._Call();
        b0.Path_(4);
        b0.FeatureStep("ref");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("allChoiceModelGroupDefSubstitutions");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("mapToMapping");
        b0.Expressions_(1);
        b0.VariableRefStep("contextStack");
        b0._Expressions();
        b0._Call();
        b0._Path();
        b0._If();
        b0.Do_();
        b0.VoidLiteral();
        b0._Do();
        b0._Choose();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("mapToDataType");
        b0.Names_(6);
        b0.Name("enumerations");
        b0.Name("entityType");
        b0.Name("index");
        b0.Name("enumValues");
        b0.Name("enumValue");
        b0.Name("value");
        b0._Names();
        b0.Block_(2);
        b0.QueryDeclaration_();
        b0.Name("mapsToEnumEntity");
        b1.Resolver();
        b0.Some_();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfo");
        b1.Resolver();
        b0._Call();
        b0.TypeTest("http://lang.whole.org/Models#EnumEntity");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0._QueryDeclaration();
        b0.Choose_(2);
        b0.Select_();
        b1.StageUpFragment_();
        b4.EnumDataType_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("entityType");
        b1.Quantifier("!");
        b1._Variable();
        b4.EnumValues_(1);
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#EnumValue");
        b1.VarName("enumValues");
        b1.Quantifier("+");
        b1._Variable();
        b4._EnumValues();
        b4._EnumDataType();
        b1._StageUpFragment();
        b0.Path_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.And_(2);
        b0.Call_();
        b0.Name("mapsToEnumEntity");
        b1.Resolver();
        b0._Call();
        b0.Some_();
        b0.Path_(2);
        b0.Choose_(2);
        b0.Path_(2);
        b0.Filter_();
        b0.SelfStep();
        b0.And_(1);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleTypeDef");
        b0._And();
        b0._Filter();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#content");
        b0._Path();
        b0.Filter_();
        b0.SelfStep();
        b0.And_(1);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleRestriction");
        b0._And();
        b0._Filter();
        b0._Choose();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#facets");
        b0.VariableTest("enumerations");
        b0._Filter();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._And();
        b0._Filter();
        b0.Filter_();
        b0.Call_();
        b0.Name("getAppInfo");
        b1.Resolver();
        b0._Call();
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("name");
        b0.VariableTest("entityType");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0._Filter();
        b0._Path();
        b0.Select_();
        b0.Filter_();
        b1.StageUpFragment_();
        b4.EnumValue_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#Value");
        b1.VarName("enumValue");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#Value");
        b1.VarName("value");
        b1.Quantifier("!");
        b1._Variable();
        b4._EnumValue();
        b1._StageUpFragment();
        b0.VariableTest("enumValues");
        b0._Filter();
        b0.Path_(2);
        b0.FeatureStep("values");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.IndexVariableTest("index");
        b0.VariableTest("enumValue");
        b0._And();
        b0._Filter();
        b0._Path();
        b0.Path_(3);
        b0.VariableRefStep("enumerations");
        b0.Filter_();
        b0.ChildStep();
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Enumeration");
        b0.IndexVariableTest("index");
        b0._And();
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("value");
        b0.VariableTest("value");
        b0._Filter();
        b0._Path();
        b0.TemplateNames();
        b0._Select();
        b0.TemplateNames();
        b0._Select();
        b0.Path_(1);
        b0.Call_();
        b0.Name("getCustomDataType");
        b0.Expressions_(2);
        b0.Path_(2);
        b0.Call_();
        b0.Name("findAppInfo");
        b1.Resolver();
        b0._Call();
        b0.FeatureStep("name");
        b0._Path();
        b0.Call_();
        b0.Name("getBuiltInType");
        b1.Resolver();
        b0._Call();
        b0._Expressions();
        b0._Call();
        b0._Path();
        b0._Choose();
        b0._Block();
        b0._QueryDeclaration();
        b0.QueryDeclaration_();
        b0.Name("addSubtype");
        b0.Names_(2);
        b0.Name("subType");
        b0.Name("superType");
        b0._Names();
        b0.PointwiseInsert_();
        b0.Placement("INTO");
        b0.Path_(4);
        b0.VariableRefStep("model");
        b0.FeatureStep("http://lang.whole.org/Models#declarations");
        b0.Filter_();
        b0.ChildStep();
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://lang.whole.org/Models#name");
        b0.VariableTest("subType");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0._Filter();
        b0.Filter_();
        b0.FeatureStep("http://lang.whole.org/Models#types");
        b0.Not_();
        b0.Some_();
        b0.Filter_();
        b0.ChildStep();
        b0.VariableTest("superType");
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0._Not();
        b0._Filter();
        b0._Path();
        b0.VariableRefStep("superType");
        b0._PointwiseInsert();
        b0._QueryDeclaration();
        b0.Select_();
        b0.Tuple_(2);
        b0.Filter_();
        b1.StageUpFragment_();
        b3.Model_();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#SimpleName");
        b1.VarName("fileName");
        b1.Quantifier("!");
        b1._Variable();
        b3.TypeRelations_(0);
        b3._TypeRelations();
        b3.ModelDeclarations_(2);
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#ModelDeclaration");
        b1.VarName("modelDeclarations");
        b1.Quantifier("*");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#ModelDeclaration");
        b1.VarName("builtInModelDeclarations");
        b1.Quantifier("*");
        b1._Variable();
        b3._ModelDeclarations();
        b3.Namespace("org.whole.lang.xsi");
        b1.Resolver();
        b1.Variable_();
        b1.VarType("http://lang.whole.org/Models#URI");
        b1.VarName("languageURI");
        b1.Quantifier("!");
        b1._Variable();
        b3._Model();
        b1._StageUpFragment();
        b0.VariableTest("model");
        b0._Filter();
        b0.Filter_();
        b1.StageUpFragment_();
        b4.MappingStrategy_();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("languageURI");
        b1.Quantifier("!");
        b1._Variable();
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#URI");
        b1.VarName("fileLocationURI");
        b1.Quantifier("!");
        b1._Variable();
        b4.BooleanType(false);
        b4.BooleanType(true);
        b4.BooleanType(false);
        b1.Resolver();
        b1.Resolver();
        b4.Mappings_(1);
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#Mapping");
        b1.VarName("mappings");
        b1.Quantifier("*");
        b1._Variable();
        b4._Mappings();
        b4.DataTypes_(1);
        b1.Variable_();
        b1.VarType("http://xsd.lang.whole.org/Mapping#DataType");
        b1.VarName("customDataTypes");
        b1.Quantifier("*");
        b1._Variable();
        b4._DataTypes();
        b4._MappingStrategy();
        b1._StageUpFragment();
        b0.VariableTest("mappingStrategy");
        b0._Filter();
        b0._Tuple();
        b0.SelfStep();
        b0.Sequence_(4);
        b0.Filter_();
        b0.Choose_(2);
        b0.If_();
        b0.Not_();
        b0.Equals_();
        b0.VariableRefStep("TARGET_NS_URI");
        b0.StringLiteral("");
        b0._Equals();
        b0._Not();
        b0.VariableRefStep("TARGET_NS_URI");
        b0._If();
        b0.Do_();
        b1.SameStageFragment_();
        b2.Sequence_();
        b2.Text("sequence");
        b2.FlowObjects_(1);
        b2.InvokeJavaClassMethod_();
        b2.Text("calculate internal namespace");
        b1.Resolver();
        b1.Resolver();
        b2.StringLiteral("org.whole.lang.xsd.util.NamespaceUtils");
        b2.StringLiteral("calculateInternalNamespace(boolean)");
        b1.Resolver();
        b2._InvokeJavaClassMethod();
        b2._FlowObjects();
        b2._Sequence();
        b1._SameStageFragment();
        b0._Do();
        b0._Choose();
        b0.VariableTest("languageURI");
        b0._Filter();
        b0.Path_(3);
        b0.FeatureStep("components");
        b0.ChildStep();
        b0.Sequence_(2);
        b0.Filter_();
        b0.Call_();
        b0.Name("mapToMapping");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("mappings");
        b0._Filter();
        b0.Filter_();
        b0.Call_();
        b0.Name("mapToModelDeclaration");
        b1.Resolver();
        b0._Call();
        b0.VariableTest("modelDeclarations");
        b0._Filter();
        b0._Sequence();
        b0._Path();
        b0.Path_(2);
        b0.VariableRefStep("mappedBuiltInTypes");
        b0.Filter_();
        b0.ChildStep();
        b0.VariableTest("builtInModelDeclarations");
        b0._Filter();
        b0._Path();
        b0.Path_(2);
        b0.VariableRefStep("mappedCustomDataTypes");
        b0.Filter_();
        b0.ChildStep();
        b0.VariableTest("customDataTypes");
        b0._Filter();
        b0._Path();
        b0._Sequence();
        b0.TemplateNames();
        b0._Select();
        b0.Path_(2);
        b0.Filter_();
        b0.DescendantStep();
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#Choice");
        b0._Filter();
        b0.Block_(2);
        b0.Filter_();
        b0.Choose_(2);
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.Path_(2);
        b0.ParentStep();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Choose();
        b0.VariableTest("sType");
        b0._Filter();
        b0.Path_(3);
        b0.Call_();
        b0.Name("getChildParticles");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("addSubtype");
        b0.Expressions_(2);
        b0.SelfStep();
        b0.VariableRefStep("sType");
        b0._Expressions();
        b0._Call();
        b0._Path();
        b0._Block();
        b0._Path();
        b0.Path_(2);
        b0.Filter_();
        b0.DescendantStep();
        b0.Or_(2);
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#ComplexDerivation");
        b0.And_(3);
        b0.SubtypeTest("http://www.w3.org/2001/XMLSchema#SimpleDerivation");
        b0.Some_();
        b0.Filter_();
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#base");
        b0.Not_();
        b0.Call_();
        b0.Name("isSchemaQName");
        b1.Resolver();
        b0._Call();
        b0._Not();
        b0._Filter();
        b1.Resolver();
        b0._Some();
        b0.Not_();
        b0.Some_();
        b0.Path_(3);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#base");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Filter_();
        b0.Call_();
        b0.Name("findAppInfo");
        b1.Resolver();
        b0._Call();
        b0.Or_(2);
        b0.TypeTest("http://lang.whole.org/Models#DataEntity");
        b0.TypeTest("http://lang.whole.org/Models#EnumEntity");
        b0._Or();
        b0._Filter();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._Not();
        b0._And();
        b0._Or();
        b0._Filter();
        b0.Call_();
        b0.Name("addSubtype");
        b0.Expressions_(2);
        b0.Path_(3);
        b0.ParentStep();
        b0.ParentStep();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Path_(3);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#base");
        b0.Call_();
        b0.Name("getComponent");
        b1.Resolver();
        b0._Call();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0._Expressions();
        b0._Call();
        b0._Path();
        b0.Path_(2);
        b0.Filter_();
        b0.DescendantStep();
        b0.And_(2);
        b0.TypeTest("http://www.w3.org/2001/XMLSchema#SimpleRestriction");
        b0.Not_();
        b0.Some_();
        b0.Path_(2);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#facets");
        b0.ChildStep();
        b0._Path();
        b1.Resolver();
        b0._Some();
        b0._Not();
        b0._And();
        b0._Filter();
        b0.Call_();
        b0.Name("cloneMappings");
        b0.Expressions_(2);
        b0.Path_(3);
        b0.ParentStep();
        b0.ParentStep();
        b0.Call_();
        b0.Name("findAppInfoType");
        b1.Resolver();
        b0._Call();
        b0._Path();
        b0.Path_(1);
        b0.FeatureStep("http://www.w3.org/2001/XMLSchema#base");
        b0._Path();
        b0._Expressions();
        b0._Call();
        b0._Path();
        b0.Tuple_(2);
        b0.VariableRefStep("model");
        b0.VariableRefStep("mappingStrategy");
        b0._Tuple();
        b0._Block();
    }
}
